import boto3
import json

# Inicializar o cliente IAM
iam = boto3.client('iam')

# Criar usuário Admin
iam.create_user(UserName='admin')

# Política completa para Admin
admin_policy = {
    "Version": "2012-10-17",
    "Statement": [
        {
            "Effect": "Allow",
            "Action": "*",
            "Resource": "*"
        }
    ]
}

# Criar role para Admin e anexar a política
iam.create_role(
    RoleName='admin-role',
    AssumeRolePolicyDocument=json.dumps(admin_policy)
)

iam.put_role_policy(
    RoleName='admin-role',
    PolicyName='AdminAccess',
    PolicyDocument=json.dumps(admin_policy)
)

# Associar o usuário à role
iam.add_user_to_group(UserName='admin', GroupName='admin-role')

print("Usuário e role para Admin criados com sucesso!")
